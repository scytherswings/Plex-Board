language: ruby
dist: trusty
sudo: false
services:
  - redis
rvm:
  - 2.3.3
cache: bundler


before_install:
  # Skip build if the commit message contains [skip travis] or [travis skip]
  - >
      echo "$TRAVIS_COMMIT_MESSAGE"
      | grep -E  '\[(skip travis|travis skip|NO\-CI|NO\-TRAVIS)\]'
      && echo "[skip travis] has been found, exiting."
      && exit 0

script:
  - /bin/bash travisSetup.sh
  - bundle exec rake

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/b32edaad628354a304be
    on_success: change  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: never     # options: [always|never|change] default: always